
@{
    ViewData["Title"] = "Add Review";
}


<head>
    <style>
        .card{
        background-color:rgb(50,50,50);
        margin-bottom:70px;
        }
    </style>
</head>

<div class="container">
    @{
        if (TempData["Message"] != null)
        {
           <div class="alert alert-success mt-5">
                @TempData["Message"]
              
           </div>
        }

    
       
    }

    <h1 class="fw-bold my-5">@ViewBag.Name</h1>
    <h3 class="text-white mt-5 mb-3">Rate the Movie</h3>
    <form action="/Review/SaveReview" method="post">
        <div class="card text-light p-3">


            <label class="form-label">Story: <span id="storyScore">0</span>/10</label>
            <input type="range" class="form-range pb-4" min="0" max="10" step="0.1" id="storyRating" name="story" oninput="updateOverall(this.id)">

            <label class="form-label">Acting/Cast: <span id="actingScore">0</span>/10</label>
            <input type="range" class="form-range pb-4" min="0" max="10" step="0.1" id="actingRating" name="acting" oninput="updateOverall(this.id)">

            <label class="form-label">Music: <span id="musicScore">0</span>/10</label>
            <input type="range" class="form-range pb-4" min="0" max="10" step="0.1" id="musicRating" name="music" oninput="updateOverall(this.id)">

            <label class="form-label">Rewatch Value: <span id="rewatchScore">0</span>/10</label>
            <input type="range" class="form-range pb-4" min="0" max="10" step="0.1" id="rewatchRating" name="rewatch" oninput="updateOverall(this.id)">

        </div>
        @{<input type="hidden" name="contentId" value="@ViewBag.Id">}
        <h3 class="text-white mt-5 mb-3">Write Your Review</h3>

        <div class="card text-light p-3">


                <label class="form-label mt-3">Add a Headline</label>
                <input type="text" class="form-control bg-dark text-light border-light" name="headline" required>

                <label class="form-label mt-3">Write Your Review</label>
                <textarea class="form-control bg-dark text-light border-light" rows="5" name="description" required></textarea>

                <button type="submit" class="btn btn-success mt-3 w-100">Submit Review</button>
        </div>
    </form>
</div>

<script>
    function updateOverall(x) {
        let overall = document.getElementById(x).value;

        if (x === "storyRating") {
            document.getElementById("storyScore").innerText = overall;
        }
        else if (x === "rewatchRating") {
           document.getElementById("rewatchScore").innerText = overall;
        }
        else if(x === "musicRating"){
            document.getElementById("musicScore").innerText = overall;
        }
        else if (x === "actingRating") {
            document.getElementById("actingScore").innerText = overall;
        }
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


